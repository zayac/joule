OASISFormat:      0.4
OCamlVersion:     >= 4.00.1
FindlibVersion:   >= 1.3.2
Name:             Joule
Version:          0.1
Authors:          Pavel Zaichenkov <zaichenkov@gmail.com>
License:          MIT
LicenseFile:      LICENSE.txt
Homepage:         https://github.com/zayac/joule
Plugins:          META (0.4), StdFiles (0.4), DevFiles (0.4)
XStdFilesAUTHORS: false
XStdFilesREADME:  false
BuildTools:       ocamlbuild, camlp4o, menhir

Synopsis:         Tool for components' interfaces coordination in stream processing language

Description:
  Given a set of constraints that represent producer-consumer relations for
  message types in channels of a stream processing network, Joule verifies the
  consistency of the constraints.  Moreover, it finds values for undefined
  (generic) types in the network that do not cause violation of constraints.

Executable joule
  Path:           src
  MainIs:         joule.ml
  BuildDepends:   core,
                  sexplib,
                  sexplib.syntax,
                  comparelib,
                  comparelib.syntax,
                  ocamlgraph,
                  threads,
                  ctypes,
                  ctypes.foreign
  CompiledObject: best
  if system(linux)
    CCLib:        -Xlinker --no-as-needed -lpicosat
  else
    CCLib:        -lpicosat

Test joule
  Command: ./scripts/run_all_tests.pl joule.native my myerr; ./scripts/compare_results.pl ref my referr myerr

PostCleanCommand:
  rm -f tests/*.my tests/*.myerr
